<div *ngIf="showAlert" class="global-alert" [ngStyle]="{ 
  'background-color': isError ? '#dc3545' : '#cfe2ff',
  'color': isError ? '#fff' : '#1b508d' 
}">
{{ alertMessage }}
</div>
<div class="container-fluid min-vh-100 d-flex justify-content-center align-items-center custom-bg" style="flex-direction: column;">
    
    <div style="display: flex; flex-direction: row; justify-content: center; align-items: center; padding-bottom: 20px;">
        <img src="images/appIcon.png" alt="Logo" width="37" height="29" class="me-2">
        <h2 class="title-text" style="padding-left: 10px;">ProStaff</h2>
    </div>

    <h2 style="margin-top: 20px; margin-bottom: 30px; padding-left: 10px; font-family: 'Inter', sans-serif; font-size: 22px; font-weight: bold; color: white;">
        New Password
    </h2>

    <div class="row w-100 justify-content-center">
        <div class="col-12 col-sm-8 col-md-6 col-lg-4 col-xl-3">
            <div class="card p-4 shadow-lg">
                <form #passwordForm="ngForm" (ngSubmit)="changePassword(passwordForm)">
                    <!-- New Password Field -->
                    <div class="mb-3">
                        <label for="newPassword" class="form-label custom-labels">New Password</label>
                        <div class="input-group">
                          <input 
                            [type]="showNewPassword ? 'text' : 'password'" 
                            class="form-control" 
                            id="newPassword" 
                            #newPassword="ngModel"
                            name="newPassword"
                            placeholder="Enter password"
                            required minlength="6"
                            [(ngModel)]="newPassword.value"
                          >
                          <span class="input-group-text bg-white">
                            <img 
                              [src]="showNewPassword ? 'images/hide.png' : 'images/show.png'" 
                              alt="Toggle Password Visibility" 
                              (click)="toggleNewPasswordVisibility()" 
                              style="cursor: pointer; width: 20px; height: 20px;" 
                            />
                          </span>
                        </div>
                        <div *ngIf="(newPassword.touched || passwordForm.submitted)" class="mt-1">
                          <span *ngIf="newPassword.errors?.['required']" class="text-danger" style="font-size: 13px;">
                            Password is required
                          </span>
                          <span *ngIf="newPassword.errors?.['minlength']" class="text-danger" style="font-size: 13px;">
                            Password must be at least 6 characters
                          </span>
                        </div>
                    </div>

                    <!-- Confirm Password Field -->
                    <div class="mb-3">
                        <label for="confPassword" class="form-label custom-labels">Re-Enter Password</label>
                        <div class="input-group">
                          <input 
                            [type]="showConfPassword ? 'text' : 'password'" 
                            class="form-control" 
                            id="confPassword" 
                            name="confPassword"
                            placeholder="Enter password"
                            required minlength="6"
                            #confPassword="ngModel"
                            [(ngModel)]="confPassword.value"
                          >
                          <span class="input-group-text bg-white">
                            <img 
                              [src]="showConfPassword ? 'images/hide.png' : 'images/show.png'" 
                              alt="Toggle Password Visibility" 
                              (click)="toggleConfPasswordVisibility()" 
                              style="cursor: pointer; width: 20px; height: 20px;" 
                            />
                          </span>
                        </div>
                        <div *ngIf="(confPassword.touched || passwordForm.submitted)" class="mt-1">
                          <span *ngIf="confPassword.errors?.['required']" class="text-danger" style="font-size: 13px;">
                            Confirm password is required
                          </span>
                          <span *ngIf="confPassword.errors?.['minlength']" class="text-danger" style="font-size: 13px;">
                            Password must be at least 6 characters
                          </span>
                          <!-- Optional: Display if passwords do not match -->
                          <span *ngIf="passwordMismatch" class="text-danger" style="font-size: 13px;">
                            Passwords do not match
                          </span>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary w-100 bg-black">Change Password</button>
                </form>
            </div>
        </div>
    </div>
</div>
